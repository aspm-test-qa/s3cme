{
  "version": 4,
  "terraform_version": "1.3.7",
  "serial": 23,
  "lineage": "d09fcde3-652e-a23c-2f67-455b27322637",
  "outputs": {
    "CI_SERVICE_ACCOUNT": {
      "value": "demo-github-actions-user@cloudy-s3c.iam.gserviceaccount.com",
      "type": "string"
    },
    "IDENTITY_PROVIDER": {
      "value": "projects/510441318314/locations/global/workloadIdentityPools/demo-github-pool/providers/github-provider",
      "type": "string"
    },
    "PROJECT_ID": {
      "value": "cloudy-s3c",
      "type": "string"
    },
    "REGISTRY_URI": {
      "value": "us-west1-docker.pkg.dev/cloudy-s3c/demo",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "google_kms_crypto_key_version",
      "name": "version",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": []
    },
    {
      "mode": "data",
      "type": "google_project",
      "name": "project",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "auto_create_network": null,
            "billing_account": "012277-6B07BD-0DEAFC",
            "folder_id": "",
            "id": "projects/cloudy-s3c",
            "labels": {},
            "name": "cloudy-s3c",
            "number": "510441318314",
            "org_id": "110572507568",
            "project_id": "cloudy-s3c",
            "skip_delete": null
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "template_file",
      "name": "version",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "ae5bcf31543244e0bc0b0a14a4374ae2f199eebe805de0ad58f20d36b5d5649b",
            "rendered": "v0.0.1",
            "template": "v0.0.1",
            "vars": null
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_artifact_registry_repository",
      "name": "registry",
      "provider": "provider[\"registry.terraform.io/hashicorp/google-beta\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "create_time": "2023-01-12T20:42:18.959751Z",
            "description": "demo artifacts registry",
            "format": "DOCKER",
            "id": "projects/cloudy-s3c/locations/us-west1/repositories/demo",
            "kms_key_name": "",
            "labels": null,
            "location": "us-west1",
            "maven_config": [],
            "name": "demo",
            "project": "cloudy-s3c",
            "repository_id": "demo",
            "timeouts": null,
            "update_time": "2023-01-12T20:42:18.959751Z"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_artifact_registry_repository_iam_member",
      "name": "registry_role_binding",
      "provider": "provider[\"registry.terraform.io/hashicorp/google-beta\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwXyFyc6D1c=",
            "id": "projects/cloudy-s3c/locations/us-west1/repositories/demo/roles/artifactregistry.repoAdmin/serviceAccount:demo-github-actions-user@cloudy-s3c.iam.gserviceaccount.com",
            "location": "us-west1",
            "member": "serviceAccount:demo-github-actions-user@cloudy-s3c.iam.gserviceaccount.com",
            "project": "cloudy-s3c",
            "repository": "projects/cloudy-s3c/locations/us-west1/repositories/demo",
            "role": "roles/artifactregistry.repoAdmin"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "google_artifact_registry_repository.registry",
            "google_service_account.github_actions_user"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_iam_workload_identity_pool",
      "name": "github_pool",
      "provider": "provider[\"registry.terraform.io/hashicorp/google-beta\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "",
            "disabled": false,
            "display_name": "",
            "id": "projects/cloudy-s3c/locations/global/workloadIdentityPools/demo-github-pool",
            "name": "projects/510441318314/locations/global/workloadIdentityPools/demo-github-pool",
            "project": "cloudy-s3c",
            "state": "ACTIVE",
            "timeouts": null,
            "workload_identity_pool_id": "demo-github-pool"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_iam_workload_identity_pool_provider",
      "name": "github_provider",
      "provider": "provider[\"registry.terraform.io/hashicorp/google-beta\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "attribute_condition": "",
            "attribute_mapping": {
              "attribute.actor": "assertion.actor",
              "attribute.aud": "assertion.aud",
              "attribute.repository": "assertion.repository",
              "google.subject": "assertion.sub"
            },
            "aws": [],
            "description": "",
            "disabled": false,
            "display_name": "",
            "id": "projects/cloudy-s3c/locations/global/workloadIdentityPools/demo-github-pool/providers/github-provider",
            "name": "projects/510441318314/locations/global/workloadIdentityPools/demo-github-pool/providers/github-provider",
            "oidc": [
              {
                "allowed_audiences": [],
                "issuer_uri": "https://token.actions.githubusercontent.com"
              }
            ],
            "project": "cloudy-s3c",
            "state": "ACTIVE",
            "timeouts": null,
            "workload_identity_pool_id": "demo-github-pool",
            "workload_identity_pool_provider_id": "github-provider"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "google_iam_workload_identity_pool.github_pool"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_kms_crypto_key",
      "name": "key",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": []
    },
    {
      "mode": "managed",
      "type": "google_kms_crypto_key_iam_binding",
      "name": "crypto_key_bindng",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": []
    },
    {
      "mode": "managed",
      "type": "google_kms_crypto_key_iam_binding",
      "name": "crypto_key_viewer",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": []
    },
    {
      "mode": "managed",
      "type": "google_project_iam_member",
      "name": "ci_role_bindings",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "index_key": "roles/artifactregistry.writer",
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwXyFyZdMOw=",
            "id": "cloudy-s3c/roles/artifactregistry.writer/serviceAccount:demo-github-actions-user@cloudy-s3c.iam.gserviceaccount.com",
            "member": "serviceAccount:demo-github-actions-user@cloudy-s3c.iam.gserviceaccount.com",
            "project": "cloudy-s3c",
            "role": "roles/artifactregistry.writer"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "google_service_account.github_actions_user"
          ]
        },
        {
          "index_key": "roles/cloudkms.cryptoKeyEncrypterDecrypter",
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwXyFybJ8A4=",
            "id": "cloudy-s3c/roles/cloudkms.cryptoKeyEncrypterDecrypter/serviceAccount:demo-github-actions-user@cloudy-s3c.iam.gserviceaccount.com",
            "member": "serviceAccount:demo-github-actions-user@cloudy-s3c.iam.gserviceaccount.com",
            "project": "cloudy-s3c",
            "role": "roles/cloudkms.cryptoKeyEncrypterDecrypter"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "google_service_account.github_actions_user"
          ]
        },
        {
          "index_key": "roles/cloudkms.publicKeyViewer",
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwXyFybJ8A4=",
            "id": "cloudy-s3c/roles/cloudkms.publicKeyViewer/serviceAccount:demo-github-actions-user@cloudy-s3c.iam.gserviceaccount.com",
            "member": "serviceAccount:demo-github-actions-user@cloudy-s3c.iam.gserviceaccount.com",
            "project": "cloudy-s3c",
            "role": "roles/cloudkms.publicKeyViewer"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "google_service_account.github_actions_user"
          ]
        },
        {
          "index_key": "roles/cloudkms.signerVerifier",
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwXyFybJ8A4=",
            "id": "cloudy-s3c/roles/cloudkms.signerVerifier/serviceAccount:demo-github-actions-user@cloudy-s3c.iam.gserviceaccount.com",
            "member": "serviceAccount:demo-github-actions-user@cloudy-s3c.iam.gserviceaccount.com",
            "project": "cloudy-s3c",
            "role": "roles/cloudkms.signerVerifier"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "google_service_account.github_actions_user"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_project_service",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "index_key": "artifactregistry.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "cloudy-s3c/artifactregistry.googleapis.com",
            "project": "cloudy-s3c",
            "service": "artifactregistry.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "binaryauthorization.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "cloudy-s3c/binaryauthorization.googleapis.com",
            "project": "cloudy-s3c",
            "service": "binaryauthorization.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "cloudkms.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "cloudy-s3c/cloudkms.googleapis.com",
            "project": "cloudy-s3c",
            "service": "cloudkms.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "cloudresourcemanager.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "cloudy-s3c/cloudresourcemanager.googleapis.com",
            "project": "cloudy-s3c",
            "service": "cloudresourcemanager.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "container.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "cloudy-s3c/container.googleapis.com",
            "project": "cloudy-s3c",
            "service": "container.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "containerregistry.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "cloudy-s3c/containerregistry.googleapis.com",
            "project": "cloudy-s3c",
            "service": "containerregistry.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "containerscanning.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "cloudy-s3c/containerscanning.googleapis.com",
            "project": "cloudy-s3c",
            "service": "containerscanning.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "iam.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "cloudy-s3c/iam.googleapis.com",
            "project": "cloudy-s3c",
            "service": "iam.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "iamcredentials.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "cloudy-s3c/iamcredentials.googleapis.com",
            "project": "cloudy-s3c",
            "service": "iamcredentials.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "servicecontrol.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "cloudy-s3c/servicecontrol.googleapis.com",
            "project": "cloudy-s3c",
            "service": "servicecontrol.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "servicemanagement.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "cloudy-s3c/servicemanagement.googleapis.com",
            "project": "cloudy-s3c",
            "service": "servicemanagement.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_service_account",
      "name": "github_actions_user",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "demo-github-actions-user",
            "description": "",
            "disabled": false,
            "display_name": "Service Account impersonated in mchmarny/s3c-pipeline-demo GitHub Actions",
            "email": "demo-github-actions-user@cloudy-s3c.iam.gserviceaccount.com",
            "id": "projects/cloudy-s3c/serviceAccounts/demo-github-actions-user@cloudy-s3c.iam.gserviceaccount.com",
            "member": "serviceAccount:demo-github-actions-user@cloudy-s3c.iam.gserviceaccount.com",
            "name": "projects/cloudy-s3c/serviceAccounts/demo-github-actions-user@cloudy-s3c.iam.gserviceaccount.com",
            "project": "cloudy-s3c",
            "timeouts": null,
            "unique_id": "102475748354140728260"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9fQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_service_account_iam_member",
      "name": "pool_impersonation",
      "provider": "provider[\"registry.terraform.io/hashicorp/google-beta\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwXyFydDgCg=",
            "id": "projects/cloudy-s3c/serviceAccounts/demo-github-actions-user@cloudy-s3c.iam.gserviceaccount.com/roles/iam.workloadIdentityUser/principalSet://iam.googleapis.com/projects/510441318314/locations/global/workloadIdentityPools/demo-github-pool/attribute.repository/mchmarny/s3c-pipeline-demo",
            "member": "principalSet://iam.googleapis.com/projects/510441318314/locations/global/workloadIdentityPools/demo-github-pool/attribute.repository/mchmarny/s3c-pipeline-demo",
            "role": "roles/iam.workloadIdentityUser",
            "service_account_id": "projects/cloudy-s3c/serviceAccounts/demo-github-actions-user@cloudy-s3c.iam.gserviceaccount.com"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "google_iam_workload_identity_pool.github_pool",
            "google_service_account.github_actions_user"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
